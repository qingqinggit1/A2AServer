# A2A-MCP æœåŠ¡å™¨æ¡†æ¶

ğŸ“˜ [ä¸­æ–‡Readme](./README_ZH.md)

<div align="center">

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)
[![Imports: isort](https://img.shields.io/badge/%20imports-isort-%231674b1?style=flat&labelColor=ef8336)](https://pycqa.github.io/isort/)

**å®Œå…¨å…¼å®¹è°·æ­ŒAgent-to-Agent (A2A) åè®®å¹¶é›†æˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®® (MCP) çš„å®ç°**

</div>

## ğŸŒŸ æ¦‚è¿°

A2A-MCP æœåŠ¡å™¨æ¡†æ¶æ˜¯ä¸€ä¸ªå¥å£®çš„ã€ç”Ÿäº§å°±ç»ªçš„è§£å†³æ–¹æ¡ˆï¼Œåˆ©ç”¨è°·æ­Œçš„ [Agent-to-Agent (A2A) åè®®](https://google.github.io/A2A/) å¹¶ä¸ [æ¨¡å‹ä¸Šä¸‹æ–‡åè®® (MCP)](https://contextual.ai/introducing-mcp/) æ— ç¼é›†æˆã€‚è¯¥é¡¹ç›®æ—¨åœ¨æ„å»ºå¯äº’æ“ä½œçš„å•ä»£ç†å’Œå¤šä»£ç†ç³»ç»Ÿï¼Œå®Œå…¨å…¼å®¹è°·æ­Œå®˜æ–¹A2Aä»£ç ã€‚å®ƒæä¾›äº†æ¸…æ™°çš„ç»“æ„ã€ä¸°å¯Œçš„ç¤ºä¾‹ä»¥åŠå…¨æ ˆã€å¼€ç®±å³ç”¨çš„å®ç°ï¼Œæ–¹ä¾¿å¼€å‘è€…ä½¿ç”¨ã€‚

ä¸»è¦äº®ç‚¹ï¼š
- **100% A2Aå…¼å®¹æ€§**ï¼šåŸºäºè°·æ­Œå®˜æ–¹A2Aä»£ç æ„å»ºï¼Œç¡®ä¿æœ€å¤§äº’æ“ä½œæ€§ã€‚
- **MCPé›†æˆ**ï¼šä¸€æµçš„MCPæ”¯æŒï¼Œä½¿ä»£ç†èƒ½å¤Ÿè®¿é—®å¤–éƒ¨å·¥å…·å’Œæ•°æ®æºã€‚
- **æ¸…æ™°çš„ç»“æ„**ï¼šé¡¹ç›®ç»„ç»‡è‰¯å¥½ï¼ŒåŒ…å«å•ä»£ç†å’Œå¤šä»£ç†è®¾ç½®çš„å…¨é¢ç¤ºä¾‹ã€‚
- **å…¨æ ˆè§£å†³æ–¹æ¡ˆ**ï¼šåŒ…æ‹¬åç«¯ï¼ˆPythonï¼‰å’Œå‰ç«¯ï¼ˆNode.jsï¼‰ç»„ä»¶ï¼Œå¯ç«‹å³éƒ¨ç½²ã€‚
- **ä¸°å¯Œçš„ç¤ºä¾‹**ï¼šå±•ç¤ºå•ä»£ç†å’Œå¤šä»£ç†åä½œçš„å®é™…ç”¨ä¾‹ã€‚

## âœ¨ ä¸ºä»€ä¹ˆé€‰æ‹©A2A-MCPæœåŠ¡å™¨æ¡†æ¶ï¼Ÿ

- **å®Œæ•´çš„A2Aå®ç°**ï¼šä¸¥æ ¼éµå¾ªå®˜æ–¹A2Aè§„èŒƒã€‚
- **çµæ´»çš„ä»£ç†ç³»ç»Ÿ**ï¼šæ”¯æŒå•ä»£ç†å’Œå¤šä»£ç†å·¥ä½œæµç¨‹ã€‚
- **MCPå·¥å…·æ”¯æŒ**ï¼šé€šè¿‡MCPè½»æ¾é›†æˆå¤–éƒ¨å·¥å…·ï¼Œæå‡ä»£ç†èƒ½åŠ›ã€‚
- **ç”Ÿäº§å°±ç»ª**ï¼šå¼ºå¤§çš„é”™è¯¯å¤„ç†å’Œæ¸…æ™°çš„æ–‡æ¡£ï¼Œé€‚åˆä¼ä¸šä½¿ç”¨ã€‚
- **å¼€å‘è€…å‹å¥½**ï¼šä¸°å¯Œçš„ç¤ºä¾‹ã€ç›´è§‚çš„è®¾ç½®å’Œæœ€å°çš„ä¾èµ–ã€‚
- **å¤šLLMæ¨¡å‹æ”¯æŒ**: æ— ç¼é›†æˆå¹¶æ”¯æŒå¤šç§é¢†å…ˆçš„è¯­è¨€æ¨¡å‹ï¼ŒåŒ…æ‹¬ OpenAIã€DeepSeekã€Anthropic å’Œ Ollamaï¼Œä¸ºç”¨æˆ·æä¾›çµæ´»æ€§å’Œé€‰æ‹©ã€‚

## ğŸ“¦ å®‰è£…

### å‰ç½®æ¡ä»¶
- Python 3.10+
- Node.js 16+
- pip ç”¨äºPythonä¾èµ–
- npm ç”¨äºå‰ç«¯ä¾èµ–

### åç«¯è®¾ç½®
1. å…‹éš†ä»“åº“ï¼š
```bash
git clone https://github.com/johnson7788/A2AServer.git
```

2. å®‰è£…åç«¯ä¾èµ–ï¼š
```bash
cd backend/A2AServer
pip install .
```

### å‰ç«¯è®¾ç½®
1. å®‰è£…å¤šä»£ç†æˆ–å•ä»£ç†å‰ç«¯çš„ä¾èµ–ï¼š
```bash
cd multiagent_front  # æˆ– cd single_agent
npm install
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å•Agentç¤ºä¾‹
#### 1. å¯åŠ¨A2Aä»£ç†
- **Agent RAG**ï¼š
```bash
cd backend/AgentRAG
python main.py --port 10005
```

#### 2. å¯åŠ¨å‰ç«¯
```bash
cd frontend/single_agent
npm install
npm run dev
```
- åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å‰ç«¯ï¼Œæ·»åŠ ä»£ç†ï¼Œå¹¶é€šè¿‡é—®ç­”ç•Œé¢å¼€å§‹äº¤äº’ã€‚

#### 3. UIç¤ºä¾‹
![SingleAgentHome](docs/images/SingleAgentHome.png)

### å¤šä»£ç†è®¾ç½®
æœ¬èŠ‚å±•ç¤ºå¦‚ä½•è®¾ç½®å¤šä»£ç†ç³»ç»Ÿï¼Œå®ç°A2Aä»£ç†ä¹‹é—´çš„åä½œã€‚

## å•Agentçš„è°ƒç”¨æµç¨‹
```mermaid
graph TD
    A[å‰ç«¯] --> B[Agent1]
    B --> E[MCP Tool1]
    B --> F[MCP Tool2]
```

#### 1. å¯åŠ¨1ä¸ªAgent
- **Agent RAG**ï¼š
```bash
cd backend/AgentRAG
python main.py --port 10005
```

#### 2. å¯åŠ¨ç¬¬2ä¸ªAgent
```bash
cd backend/DeepSearch
python main.py --port 10004
```

#### 3. å¯åŠ¨ä¸»æœºä»£ç†ï¼ˆç”¨äºç®¡ç†ä¸Šé¢å¯åŠ¨çš„2ä¸ªAgent)
ä¸»æœºä»£ç†åè°ƒå¤šä¸ªA2Aä»£ç†ï¼Œç®¡ç†å…¶çŠ¶æ€å¹¶å†³å®šä½¿ç”¨å“ªä¸ªä»£ç†ã€‚
```bash
cd frontend/hostAgentAPI
pip install -r requirements.txt
python api.py
```

#### 4. å¯åŠ¨å‰ç«¯
```bash
cd frontend/multiagent_front
npm install
npm run dev
```
- åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å‰ç«¯ï¼Œæ·»åŠ ä»£ç†ï¼Œå¹¶é€šè¿‡é—®ç­”ç•Œé¢å¼€å§‹äº¤äº’ã€‚
#### 5. UIç¤ºä¾‹
![MultiAgentHomePage](docs/images/MultiAgentHomePage.png)

## å¤šAgentçš„è°ƒç”¨æµç¨‹
```mermaid
graph TD
    A[å‰ç«¯] --> B[HostAgent]
    B --> C[Agent1]
    B --> D[Agent2]
    D --> E[MCP Tool1]
    D --> F[MCP Tool2]
    C --> M[MCP Tool3]
```

## ğŸ“‚ é¡¹ç›®ç»“æ„
```
A2AServer
â”œâ”€â”€ backend
â”‚   â”œâ”€â”€ A2AServer           # A2AæœåŠ¡å™¨ä¾èµ–
â”‚   â”œâ”€â”€ AgentRAG            # åŸºäºRAGçš„A2Aä»£ç†
â”‚   â”œâ”€â”€ DeepSearch          # DeepSearch A2Aä»£ç†ç¤ºä¾‹
â”‚   â”œâ”€â”€ client.py           # ç”¨äºæµ‹è¯•çš„A2Aå®¢æˆ·ç«¯
â”‚   â””â”€â”€ hostAgentAPI        # å¤šä»£ç†åè°ƒçš„ä¸»æœºä»£ç†
â”œâ”€â”€ multiagent_front        # å¤šä»£ç†åä½œå‰ç«¯
â”œâ”€â”€ single_agent            # å•ä»£ç†äº¤äº’å‰ç«¯
â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
```

## ğŸ› ï¸ å¼€å‘è‡ªå·±çš„A2AæœåŠ¡å™¨
è¦åˆ›å»ºè‡ªå®šä¹‰A2AæœåŠ¡å™¨ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. **å¤åˆ¶DeepSearchç¤ºä¾‹**ï¼š
```bash
cp -r backend/DeepSearch backend/MyCustomAgent
```

2. **ç›®å½•ç»“æ„**ï¼š
```angular2html
MyCustomAgent
â”œâ”€â”€ .env                # æ¨¡å‹å¯†é’¥çš„ç¯å¢ƒæ–‡ä»¶
â”œâ”€â”€ main.py             # A2AæœåŠ¡å™¨å¯åŠ¨è„šæœ¬
â”œâ”€â”€ mcp_config.json     # MCPæœåŠ¡å™¨é…ç½®
â”œâ”€â”€ mcpserver           # MCPæœåŠ¡å™¨ä»£ç ï¼ˆå¯é€‰ï¼‰
â”‚   â””â”€â”€ my_tool.py      # è‡ªå®šä¹‰MCPå·¥å…·
â””â”€â”€ prompt.txt          # ä»£ç†æç¤ºæ–‡ä»¶
```

3. **é…ç½®MCPå·¥å…·**ï¼š
- ç¡®ä¿`mcp_config.json`ä¸­çš„å·¥å…·åç§°ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼ˆä¾‹å¦‚`MyCustomTool`ï¼‰è€Œä¸æ˜¯ä¸‹åˆ’çº¿ï¼ˆä¾‹å¦‚`My_Custom_Tool`ï¼‰ï¼Œä»¥é¿å…æŸ¥æ‰¾é—®é¢˜ã€‚
- ç¤ºä¾‹`mcp_config.json`ï¼š
```json
{
  "tools": [
    {
      "name": "MyCustomTool",
      "description": "ç”¨äºå¤„ç†æ•°æ®çš„è‡ªå®šä¹‰å·¥å…·",
      "script": "mcpserver/my_tool.py"
    }
  ]
}
```

4. **è¿è¡ŒæœåŠ¡å™¨**ï¼š
```bash
cd backend/MyCustomAgent
python main.py --port 10006
```

## âš ï¸ æ³¨æ„äº‹é¡¹
- **å·¥å…·å‘½å**ï¼šåœ¨`mcp_config.json`ä¸­ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼ˆä¾‹å¦‚`SearchTool`ã€`RAGTool`ï¼‰ä»¥ç¡®ä¿å…¼å®¹æ€§ã€‚
- **ç¯å¢ƒå˜é‡**ï¼šå°†APIå¯†é’¥å’Œæ•æ„Ÿæ•°æ®å­˜å‚¨åœ¨`.env`æ–‡ä»¶ä¸­ã€‚
- **ç«¯å£å†²çª**ï¼šä¸ºæ¯ä¸ªä»£ç†ç¡®ä¿ä½¿ç”¨å”¯ä¸€çš„ç«¯å£ä»¥é¿å…å†²çªã€‚

## ğŸ§© æ ¸å¿ƒåŠŸèƒ½
- **å•ä»£ç†ç•Œé¢**ï¼šç®€å•ç›´è§‚çš„UIï¼Œç”¨äºä¸å•ä¸ªA2Aä»£ç†äº¤äº’ã€‚
- **å¤šä»£ç†åä½œ**ï¼šä¸»æœºä»£ç†åè°ƒå¤šä¸ªA2Aä»£ç†ä»¥å®Œæˆå¤æ‚ä»»åŠ¡ã€‚
- **MCPé›†æˆ**ï¼šé€šè¿‡MCPæ— ç¼è®¿é—®å¤–éƒ¨å·¥å…·å’Œæ•°æ®ã€‚
- **ä¸°å¯Œçš„ç¤ºä¾‹**ï¼šä¸ºå•ä»£ç†å’Œå¤šä»£ç†è®¾ç½®æä¾›å…¨é¢çš„ç¤ºä¾‹ã€‚
- **å…¨æ ˆæ”¯æŒ**ï¼šåç«¯å’Œå‰ç«¯ç»„ä»¶å¯ç«‹å³éƒ¨ç½²ã€‚

## ğŸ—ºï¸ ä½¿ç”¨åœºæ™¯
- **äººå·¥æ™ºèƒ½åŠ©æ‰‹**ï¼šæ„å»ºå•ä»£ç†æˆ–å¤šä»£ç†çš„æ™ºèƒ½åŠ©æ‰‹ã€‚
- **ç ”ç©¶å·¥å…·**ï¼šåˆ›å»ºç”¨äºæ•°æ®åˆ†ææˆ–æœç´¢çš„åä½œä»£ç†ç³»ç»Ÿã€‚
- **ä¼ä¸šå·¥ä½œæµç¨‹**ï¼šåè°ƒå¤šä¸ªä»£ç†ä»¥å¤„ç†å¤æ‚çš„ä¸šåŠ¡æµç¨‹ã€‚
- **æ•™è‚²å¹³å°**ï¼šå±•ç¤ºä»£ç†åä½œä»¥ç”¨äºå­¦ä¹ ç›®çš„ã€‚

## ğŸ“– è´¡çŒ®
æˆ‘ä»¬æ¬¢è¿è´¡çŒ®ï¼å¼€å§‹è´¡çŒ®çš„æ­¥éª¤ï¼š
1. Forkä»“åº“ã€‚
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼ˆ`git checkout -b feature/my-feature`ï¼‰ã€‚
3. æäº¤æ›´æ”¹ï¼ˆ`git commit -m 'Add my feature'`ï¼‰ã€‚
4. æ¨é€åˆ†æ”¯ï¼ˆ`git push origin feature/my-feature`ï¼‰ã€‚
5. æ‰“å¼€æ‹‰å–è¯·æ±‚ã€‚

è¯¦æƒ…è¯·å‚é˜…æˆ‘ä»¬çš„[è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)ã€‚

## è‡´è°¢
æœ¬é¡¹ç›®å‚è€ƒå¹¶æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„è´¡çŒ®ï¼š
- [Google A2A é¡¹ç›®](https://github.com/google/A2A)

## ğŸ¤ ç¤¾åŒºä¸æ”¯æŒ
- **[GitHub Issues](https://github.com/johnson7788/A2AServer/issues)**ï¼šæŠ¥å‘Šé”™è¯¯æˆ–è¯·æ±‚åŠŸèƒ½ã€‚
- **[GitHub Discussions](https://github.com/johnson7788/A2AServer/discussions)**ï¼šæé—®å’Œåˆ†äº«æƒ³æ³•ã€‚

## ğŸ“„ è®¸å¯è¯
æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ -  Free for all.

Made with â¤ï¸ by [Johnson Guo](https://github.com/johnson7788)
